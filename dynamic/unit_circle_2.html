<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unit Circle Explorer</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- MathJax -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        body {
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: #f3f4f6;
        }
        canvas {
            cursor: crosshair;
            touch-action: none;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center justify-center p-4">

    <div class="bg-white rounded-2xl shadow-xl w-full max-w-6xl overflow-hidden flex flex-col md:flex-row">
        
        <!-- Info Panel -->
        <div class="w-full md:w-1/3 p-6 bg-slate-50 border-r border-slate-100 flex flex-col">
            <h1 class="text-2xl font-bold text-slate-800 mb-2">Trig Explorer (All 6)</h1>
            <p class="text-sm text-slate-500 mb-4">Visualizing Reciprocals.<br>Radius = 1.</p>

            <!-- Angle Display -->
            <div class="bg-slate-800 text-white p-3 rounded-xl shadow-md text-center mb-6">
                <p class="text-xs text-slate-400 uppercase font-bold mb-1">Angle (\(\theta\))</p>
                <div id="angle-display" class="text-xl font-mono">
                    0&deg; / 0 rad
                </div>
            </div>

            <!-- Values Grid -->
            <div class="grid grid-cols-2 gap-3 mb-6">
                <!-- Primary Functions -->
                <div class="space-y-3">
                    <p class="text-xs font-bold text-slate-400 uppercase text-center">Primary</p>
                    <!-- Sin -->
                    <div class="flex flex-col bg-white p-2 rounded-lg border-l-4 border-rose-500 shadow-sm">
                        <span class="text-xs font-bold text-rose-600">sin(\(\theta\))</span>
                        <span id="val-sin" class="font-mono text-slate-700 text-sm">0.00</span>
                    </div>
                    <!-- Cos -->
                    <div class="flex flex-col bg-white p-2 rounded-lg border-l-4 border-blue-600 shadow-sm">
                        <span class="text-xs font-bold text-blue-600">cos(\(\theta\))</span>
                        <span id="val-cos" class="font-mono text-slate-700 text-sm">1.00</span>
                    </div>
                    <!-- Tan -->
                    <div class="flex flex-col bg-white p-2 rounded-lg border-l-4 border-emerald-500 shadow-sm">
                        <span class="text-xs font-bold text-emerald-600">tan(\(\theta\))</span>
                        <span id="val-tan" class="font-mono text-slate-700 text-sm">0.00</span>
                    </div>
                </div>

                <!-- Reciprocal Functions -->
                <div class="space-y-3">
                    <p class="text-xs font-bold text-slate-400 uppercase text-center">Reciprocal</p>
                    <!-- Csc -->
                    <div class="flex flex-col bg-white p-2 rounded-lg border-l-4 border-orange-500 shadow-sm">
                        <span class="text-xs font-bold text-orange-600">csc(\(\theta\))</span>
                        <span id="val-csc" class="font-mono text-slate-700 text-sm">Undefined</span>
                    </div>
                    <!-- Sec -->
                    <div class="flex flex-col bg-white p-2 rounded-lg border-l-4 border-violet-600 shadow-sm">
                        <span class="text-xs font-bold text-violet-600">sec(\(\theta\))</span>
                        <span id="val-sec" class="font-mono text-slate-700 text-sm">1.00</span>
                    </div>
                    <!-- Cot -->
                    <div class="flex flex-col bg-white p-2 rounded-lg border-l-4 border-cyan-500 shadow-sm">
                        <span class="text-xs font-bold text-cyan-600">cot(\(\theta\))</span>
                        <span id="val-cot" class="font-mono text-slate-700 text-sm">Undefined</span>
                    </div>
                </div>
            </div>

            <!-- Teaching Note -->
            <div class="mt-auto pt-4 border-t border-slate-200">
                <h3 class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-2">Identities</h3>
                <div class="grid grid-cols-2 gap-2 text-[10px] text-slate-600">
                    <div>
                        <span class="text-orange-600 font-bold">csc</span> = 1/sin<br>
                        Hypotenuse to y=1
                    </div>
                    <div>
                        <span class="text-violet-600 font-bold">sec</span> = 1/cos<br>
                        Hypotenuse to x=1
                    </div>
                    <div class="col-span-2">
                        <span class="text-cyan-600 font-bold">cot</span> = 1/tan (Line on y=1)
                    </div>
                </div>
            </div>
        </div>

        <!-- Canvas -->
        <div class="w-full md:w-2/3 p-4 bg-white relative flex items-center justify-center bg-grid-slate-100">
            <canvas id="unitCanvas" width="600" height="600" class="w-full max-w-[500px] h-auto rounded-lg shadow-inner bg-slate-50 border border-slate-200"></canvas>
            
            <!-- Tooltip -->
            <div id="tooltip" class="absolute pointer-events-none bg-slate-900 text-white text-xs px-2 py-1 rounded opacity-0 transition-opacity">
                (x, y)
            </div>
        </div>
    </div>

    <script>
    (function() {
        const canvas = document.getElementById('unitCanvas');
        const ctx = canvas.getContext('2d');
        const angleDisplay = document.getElementById('angle-display');
        
        const valSin = document.getElementById('val-sin');
        const valCos = document.getElementById('val-cos');
        const valTan = document.getElementById('val-tan');
        const valCsc = document.getElementById('val-csc');
        const valSec = document.getElementById('val-sec');
        const valCot = document.getElementById('val-cot');
        
        const tooltip = document.getElementById('tooltip');

        // Config
        const scale = 160; // Slightly smaller scale to fit extensions
        let theta = Math.PI / 6; // Initial angle (30 deg)

        // --- Drawing Helpers ---

        function toCanvas(x, y) {
            const cx = canvas.width / 2;
            const cy = canvas.height / 2;
            return {
                x: cx + (x * scale),
                y: cy - (y * scale) // Canvas Y is inverted
            };
        }

        function fromCanvas(px, py) {
            const rect = canvas.getBoundingClientRect();
            const scaleX = canvas.width / rect.width;
            const scaleY = canvas.height / rect.height;
            const cx = canvas.width / 2;
            const cy = canvas.height / 2;
            return {
                x: (px * scaleX - cx) / scale,
                y: (cy - py * scaleY) / scale 
            };
        }

        function drawLine(p1, p2, color, width=2, dashed=false) {
            const start = toCanvas(p1.x, p1.y);
            const end = toCanvas(p2.x, p2.y);
            
            ctx.beginPath();
            ctx.strokeStyle = color;
            ctx.lineWidth = width;
            if(dashed) ctx.setLineDash([5, 5]);
            else ctx.setLineDash([]);
            
            ctx.moveTo(start.x, start.y);
            ctx.lineTo(end.x, end.y);
            ctx.stroke();
            ctx.setLineDash([]);
        }

        function drawText(text, p, color, align='center', baseline='middle') {
            const pos = toCanvas(p.x, p.y);
            ctx.fillStyle = color;
            ctx.font = 'bold 12px sans-serif';
            ctx.textAlign = align;
            ctx.textBaseline = baseline;
            ctx.fillText(text, pos.x, pos.y);
        }

        function drawCircle() {
            const center = toCanvas(0, 0);
            
            // Unit Circle
            ctx.beginPath();
            ctx.strokeStyle = '#94a3b8'; // slate-400
            ctx.lineWidth = 2;
            ctx.arc(center.x, center.y, scale, 0, 2 * Math.PI);
            ctx.stroke();

            // Axes
            ctx.beginPath();
            ctx.strokeStyle = '#e2e8f0'; // slate-200
            ctx.lineWidth = 1;
            // X Axis
            ctx.moveTo(0, center.y);
            ctx.lineTo(canvas.width, center.y);
            // Y Axis
            ctx.moveTo(center.x, 0);
            ctx.lineTo(center.x, canvas.height);
            ctx.stroke();
        }

        function drawAngleArc(angle) {
            const center = toCanvas(0, 0);
            const radius = 25;
            ctx.beginPath();
            ctx.strokeStyle = '#64748b';
            ctx.lineWidth = 2;
            ctx.arc(center.x, center.y, radius, 0, -angle, angle > 0);
            ctx.stroke();
        }

        function render() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            drawCircle();
            drawAngleArc(theta);

            const cos = Math.cos(theta);
            const sin = Math.sin(theta);
            const tan = Math.tan(theta);
            const cot = 1 / tan;

            const origin = {x: 0, y: 0};
            const point = {x: cos, y: sin};
            const foot = {x: cos, y: 0}; 

            // --- 1. The Point & Radius ---
            drawLine(origin, point, '#1e293b', 2); // Slate-800
            const pCanvas = toCanvas(cos, sin);
            ctx.beginPath();
            ctx.fillStyle = '#1e293b';
            ctx.arc(pCanvas.x, pCanvas.y, 4, 0, 2*Math.PI);
            ctx.fill();

            // --- 2. Primary Functions ---
            
            // Cosine (Blue, on X)
            drawLine(origin, foot, '#2563eb', 4); 
            
            // Sine (Red, Vertical)
            drawLine(foot, point, '#e11d48', 4); 

            // --- 3. Tangent & Secant (x = 1) ---
            // Walls at x=1 and y=1
            drawLine({x: 1, y: -10}, {x: 1, y: 10}, '#f1f5f9', 1); 
            drawLine({x: -10, y: 1}, {x: 10, y: 1}, '#f1f5f9', 1); 

            // Avoid drawing infinity
            if(Math.abs(tan) < 10) {
                const tanPoint = {x: 1, y: tan};
                
                // Extension line (dashed)
                drawLine(origin, tanPoint, '#cbd5e1', 1, true); 

                // Tangent (Emerald, on x=1)
                drawLine({x: 1, y: 0}, tanPoint, '#10b981', 3); 
                
                // Secant (Violet, Hypotenuse from origin to Tan tip)
                // We offset it slightly so it doesn't completely cover the extension line
                // Visually it is the line segment from (0,0) to (1, tan)
                drawLine(origin, tanPoint, '#7c3aed', 1); 
                // Draw a small indicator for Sec
                drawText("sec", {x: 0.5, y: tan/2 + 0.1}, '#7c3aed', 'right');
                drawText("tan", {x: 1.1, y: tan/2}, '#059669', 'left');
            }

            // --- 4. Cotangent & Cosecant (y = 1) ---
            if(Math.abs(cot) < 10) {
                const cotPoint = {x: cot, y: 1};

                // Extension line (dashed)
                drawLine(origin, cotPoint, '#cbd5e1', 1, true);

                // Cotangent (Cyan, on y=1)
                drawLine({x: 0, y: 1}, cotPoint, '#06b6d4', 3); // Cyan-500

                // Cosecant (Orange, Hypotenuse from origin to Cot tip)
                drawLine(origin, cotPoint, '#f97316', 1); // Orange-500
                
                // Labels
                drawText("cot", {x: cot/2, y: 1.1}, '#0891b2', 'center');
                drawText("csc", {x: cot/2 - 0.1, y: 0.5}, '#ea580c', 'right');
            }

            // Primary Labels
            drawText("cos", {x: cos/2, y: -0.15}, '#1d4ed8', 'center');
            drawText("sin", {x: cos - 0.15 * Math.sign(cos), y: sin/2}, '#be123c', 'right');
        }

        function formatVal(val) {
            if(Math.abs(val) > 100) return "Undefined";
            return val.toFixed(2);
        }

        function updateUI() {
            // Angle Normalization
            let t = theta % (2 * Math.PI);
            if (t < 0) t += 2 * Math.PI;

            const deg = (t * 180 / Math.PI).toFixed(0);
            const rad = t.toFixed(2);
            
            angleDisplay.innerHTML = `${deg}&deg; / ${rad} rad`;

            // Calculations
            const sin = Math.sin(theta);
            const cos = Math.cos(theta);
            const tan = Math.tan(theta);

            valSin.textContent = formatVal(sin);
            valCos.textContent = formatVal(cos);
            valTan.textContent = formatVal(tan);
            
            // Handle divide by zero visually
            valCsc.textContent = Math.abs(sin) < 0.001 ? "Undefined" : formatVal(1/sin);
            valSec.textContent = Math.abs(cos) < 0.001 ? "Undefined" : formatVal(1/cos);
            valCot.textContent = Math.abs(tan) < 0.001 ? "Undefined" : formatVal(1/tan);
        }

        // --- Interaction ---

        canvas.addEventListener('mousemove', (e) => {
            const pos = fromCanvas(e.offsetX, e.offsetY);
            theta = Math.atan2(pos.y, pos.x);
            render();
            updateUI();
            
            tooltip.style.left = (e.pageX + 15) + 'px';
            tooltip.style.top = (e.pageY + 15) + 'px';
            tooltip.textContent = `(${Math.cos(theta).toFixed(2)}, ${Math.sin(theta).toFixed(2)})`;
            tooltip.style.opacity = 1;
        });

        canvas.addEventListener('mouseleave', () => {
            tooltip.style.opacity = 0;
        });

        // Initial
        render();
        updateUI();

    })();
    </script>
</body>
</html>